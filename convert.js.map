{"version":3,"file":"convert.js","sources":["../src/utils/convert.js"],"sourcesContent":["export function convertDataToOptions(pack, data) {\r\n\tconst options = {\r\n\t\tcharacter: {},\r\n\t\tcharacterFilter: {},\r\n\t\tcharacterIntro: {},\r\n\t\tcharacterReplace: {},\r\n\t\tcharacterTitle: {},\r\n\t\tcharacterSubstitute: {},\r\n\t\ttranslate: {},\r\n\t\tdynamicTranslate: {},\r\n\t\tskill: {},\r\n\t\trank: {},\r\n\t\tcharacterSort: {\r\n\t\t\t[pack.name]: {}\r\n\t\t},\r\n\t}\r\n\tfor (const [name, value] of Object.entries(data)) {\r\n\t\tconst {\r\n\t\t\tinfo,\r\n\t\t\tsort,\r\n\t\t\tskills,\r\n\t\t\tfilter,\r\n\t\t\tintro,\r\n\t\t\ttitle,\r\n\t\t\treplace,\r\n\t\t\tsubstitute,\r\n\t\t\ttranslate,\r\n\t\t\trank,\r\n\t\t\tdynamicTranslate,\r\n\t\t} = value;\r\n\r\n\t\tinfo && (options.character[name] = info, options.character[name].img = `extension/PS武将/image/character/${name}.jpg`);\r\n\t\tfilter && (options.characterFilter[name] = filter);\r\n\t\tintro && (options.characterIntro[name] = intro);\r\n\t\treplace && (options.characterReplace[name] = replace);\r\n\t\ttitle && (options.characterTitle[name] = title);\r\n\t\tsubstitute && (options.characterSubstitute[name] = substitute);\r\n\t\toptions.rank[rank[0]] = options.rank[rank[0]] || [];\r\n\t\toptions.rank[rank[0]].push(name);\r\n\t\toptions.characterSort[pack.name][sort[0]] = options.characterSort[pack.name][sort[0]] || [];\r\n\t\toptions.characterSort[pack.name][sort[0]].push(name);\r\n\t\tname.includes(\"PS\") && (options.translate[name + \"_prefix\"] = name.includes(\"PSshen_\") ? \"PS神\" : \"PS\");\r\n\t\toptions.translate[sort[0]] || (options.translate[sort[0]] = sort[1]);\r\n\t\toptions.translate[pack.name] = pack.translate;\r\n\t\ttranslate && (Object.assign(options.translate, translate));\r\n\t\tdynamicTranslate && (Object.assign(options.dynamicTranslate, dynamicTranslate));\r\n\t\tskills && (Object.assign(options.skill, skills));\r\n\t}\r\n\treturn options;\r\n}\r\n\r\n\r\n/* <-------------------------花色符号染色-------------------------> */\r\n/**\r\n * 获取牌的花色数\r\n * @param { string|string[] } suit 诸如'spade'、'heart'的字符串\r\n * @returns { string } 返回包含HTML标签的字符串\r\n */\r\nexport function convertSuitToHTML(data) {\r\n\tif (Array.isArray(suit)) {\r\n\t\treturn suit.map(function (s) {\r\n\t\t\treturn convertSuitToHTML(s);\r\n\t\t}).join('、');\r\n\t}\r\n\telse if (typeof suit !== 'string') {\r\n\t\treturn void 0;\r\n\t}\r\n\tconst obj = {\r\n\t\t'spade': '<font color=\"black\">♠︎</font>',\r\n\t\t'heart': '<font color=\"red\">♥︎</font>',\r\n\t\t'club': '<font color=\"black\">♣︎</font>',\r\n\t\t'diamond': '<font color=\"red\">♦︎</font>',\r\n\t}\r\n\treturn obj[suit];\r\n}\r\n"],"names":["convertDataToOptions","pack","data","options","character","characterFilter","characterIntro","characterReplace","characterTitle","characterSubstitute","translate","dynamicTranslate","skill","rank","characterSort","name","value","Object","entries","info","sort","skills","filter","intro","title","replace","substitute","img","push","includes","assign"],"mappings":"AAAO,SAASA,EAAqBC,EAAMC,GAC1C,MAAMC,EAAU,CACfC,UAAW,CAAA,EACXC,gBAAiB,CAAA,EACjBC,eAAgB,CAAA,EAChBC,iBAAkB,CAAA,EAClBC,eAAgB,CAAA,EAChBC,oBAAqB,CAAA,EACrBC,UAAW,CAAA,EACXC,iBAAkB,CAAA,EAClBC,MAAO,CAAA,EACPC,KAAM,CAAA,EACNC,cAAe,CACd,CAACb,EAAKc,MAAO,CAAA,IAGf,IAAA,MAAYA,EAAMC,KAAUC,OAAOC,QAAQhB,GAAO,CACjD,MAAMiB,KACLA,EAAAC,KACAA,EAAAC,OACAA,EAAAC,OACAA,EAAAC,MACAA,EAAAC,MACAA,EAAAC,QACAA,EAAAC,WACAA,EAAAhB,UACAA,EAAAG,KACAA,EAAAF,iBACAA,GACGK,EAEJG,IAAShB,EAAQC,UAAUW,GAAQI,EAAMhB,EAAQC,UAAUW,GAAMY,IAAM,kCAAkCZ,SACzGO,IAAWnB,EAAQE,gBAAgBU,GAAQO,GAC3CC,IAAUpB,EAAQG,eAAeS,GAAQQ,GACzCE,IAAYtB,EAAQI,iBAAiBQ,GAAQU,GAC7CD,IAAUrB,EAAQK,eAAeO,GAAQS,GACzCE,IAAevB,EAAQM,oBAAoBM,GAAQW,GACnDvB,EAAQU,KAAKA,EAAK,IAAMV,EAAQU,KAAKA,EAAK,KAAO,GACjDV,EAAQU,KAAKA,EAAK,IAAIe,KAAKb,GAC3BZ,EAAQW,cAAcb,EAAKc,MAAMK,EAAK,IAAMjB,EAAQW,cAAcb,EAAKc,MAAMK,EAAK,KAAO,GACzFjB,EAAQW,cAAcb,EAAKc,MAAMK,EAAK,IAAIQ,KAAKb,GAC/CA,EAAKc,SAAS,QAAU1B,EAAQO,UAAUK,EAAO,WAAaA,EAAKc,SAAS,WAAa,MAAQ,MACjG1B,EAAQO,UAAUU,EAAK,MAAQjB,EAAQO,UAAUU,EAAK,IAAMA,EAAK,IACjEjB,EAAQO,UAAUT,EAAKc,MAAQd,EAAKS,UACpCA,GAAcO,OAAOa,OAAO3B,EAAQO,UAAWA,GAC/CC,GAAqBM,OAAOa,OAAO3B,EAAQQ,iBAAkBA,GAC7DU,GAAWJ,OAAOa,OAAO3B,EAAQS,MAAOS,EACzC,CACA,OAAOlB,CACR"}